<!doctype html>
<html>
  <head>
    <title>JavaScript RSA Encryption</title>
    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script src="jsencrypt.min.js"></script>
    <script type="text/javascript">

      // Call this code when the page is done loading.
      $(function() {

        // Run a quick encryption/decryption when they click.
        $('#testme').click(function() {

          // Encrypt with the public key...
          var encrypt = new JSEncrypt();
          encrypt.setPublicKey($('#pubkey').val());
          var encrypted = encrypt.encrypt($('#input').val());
          console.log(encrypted);
          // Decrypt with the private key...
          var decrypt = new JSEncrypt();
          decrypt.setPrivateKey($('#privkey').val());
          var uncrypted = decrypt.decrypt(encrypted);

          // Now a simple check to see if the round-trip worked.
          if (uncrypted == $('#input').val()) {
            alert('It works!!!');
          }
          else {
            alert('Something went wrong....');
          }
        });
      });
    </script>
  </head>
  <body>
    <label for="privkey">Private Key</label><br/>
    <textarea id="privkey" rows="15" cols="65">-----BEGIN RSA PRIVATE KEY-----
      MIICXAIBAAKBgQDNkoLroaJJ3eMfyIVmTc3o6wyaYR51QwuShc4tCU2PIfWmLLMV
      E/IR1SzxxIYQwJcP0zZRZ8VE2c4w67ihPhrF2z7OOYwnDSnOFNKUOmEzT91zTEF3
      3zrzDGrrBfG6GYECnT6IL3PabQ8R6W0YHvJsZ6srfi6sUSmi6HD/Y5ZC3QIDAQAB
      AoGBAImK8q/HeLclj9ZvKto1SoUB52/PdTqN/kst3bICXHNdDGf/1l5O9xL5Z9Xn
      YLAKu8fp0JkM7k9Pz4ap4OF5lR0DrlQAb0zxdgbvh9sJpTZnRCDT52gCRjlVLzTs
      8Jad9AFGSW5uS+mEoGmbieINzjJ6/1clpr5+fR3kYxGCCCTdAkEA6yG37XjX5tHJ
      80elolMp6U4FU95+L1QZdwJ752gY4+TRp3zhgob6UVoJbPxWL9FLVcvYFrcyNCJL
      6F2yqZ5IrwJBAN/RMS78121FwfmU0ZG7B1ZBweN8BBY7kJSF8hNTQtBfLjhcTR/p
      rtkZbn3hL725ljNp+g5ezEpwyxidGAwwuDMCQE+PDiv06qC4NWvyvzGokBLYCmdx
      biLXgvJIzeHj0CA0SVgxoiBHSaWDIJNW4la1q5bxLUGqZPtM64BJS+2mmBMCQH4t
      vk+iJYUqJZAiEP/ac+lyCu/Hk7pA/GJvHSk98FXuwuztRGGwaW1lRABden+4Z/A2
      V83QLdXtvuHydoMw2DcCQAE/rrUFHEeNQ0Ta+YeTmJXSSFF8VwvuV4ZFoZcweaC4
      tCyqVgTwS+WwjIKDU2rGxUJjmyD/PEY9Zeyu5tieB6E=
-----END RSA PRIVATE KEY-----</textarea><br/>
    <label for="pubkey">Public Key</label><br/>
    <textarea id="pubkey" rows="15" cols="65">-----BEGIN PUBLIC KEY-----
      MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDNkoLroaJJ3eMfyIVmTc3o6wya
      YR51QwuShc4tCU2PIfWmLLMVE/IR1SzxxIYQwJcP0zZRZ8VE2c4w67ihPhrF2z7O
      OYwnDSnOFNKUOmEzT91zTEF33zrzDGrrBfG6GYECnT6IL3PabQ8R6W0YHvJsZ6sr
      fi6sUSmi6HD/Y5ZC3QIDAQAB
-----END PUBLIC KEY-----</textarea><br/>
    <label for="input">Text to encrypt:</label><br/>
    <textarea id="input" name="input" type="text" rows=4 cols=70>This is a test!</textarea><br/>
    <input id="testme" type="button" value="Test Me!!!" /><br/>
  </body>
</html>
